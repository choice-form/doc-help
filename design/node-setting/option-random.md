# 选项随机


> 在更改设置时，可以配合使用[实时预览](../preview/realtime.md)和[完整预览](../preview/full.md)来查看效果。

选项在答题页面中展示的顺序默认就是在编辑器中编辑好的顺序，不过有时候打乱顺序可以获得更好的效果，对结果收集产生积极的影响，这时候需要使用到`选项随机`功能。

开启通用设置区中的`选项随机`开关，展示的时候就会把选项打乱顺序。

打开开关后能看到下面多出四个勾选项，其中`顺序追随引用源`这项只有当题目使用了选项引用功能时才会出现。

默认这四个勾选项都是未开启的，也是就使用默认随机行为：所有的选项混在一起随机打乱顺序；当勾选了下面的项目后，随机行为会发生改变。

+ 组随机
+ 组内随机
+ 固定位循环
+ 顺序追随引用源

## 组随机
启用组随机之前需要为选项设置[分组编号](./option.md#分组编号)，分组编号相同的选项会被分到同一组，使用分组编号将选项分成多组之后，开启组随机，可以理解为这些选项会被装在一个组的盒子里面，这些组的盒子们互相打乱顺序，同时保证了组内的选项永远挨在一起，而且顺序不会被打乱。

## 组内随机
启用组内随机之前需要为选项设置[分组编号](./option.md#分组编号)，分组编号相同的选项会被分到同一组，使用分组编号将选项分成多组之后，开启组内随机，可以理解为这些选项会被装在一个组的盒子里面，这些组盒子的位置固定，但是组内的选项各自在自己的组内随机打乱顺序。


组随机和组内随机可以同时开启，这样话随机后组的位置不确定，组内的选项位置也不确定，但是仍然能保证组内的节点永远挨在一起。

组的概念就是为了避免随机的时候各个组之间的选项混在一起。

从不同的来源引用过来的[引用选项](../opt-reference/concept.md)，默认会各自按来源分配到各自的组中。

## 固定位循环 
固定位循环和其他几个选项互斥的，不能同时开启，当开启了固定位循环后，选项随机的规则像链条的转动一样，只会随机决定由某个选项开头，后面的选项都都原来的次序更上，前面被截断的选项会按原有次序跟在最后一个选项之后。

## 顺序追随引用源
只对引用选项有效，开启了该功能后，被引用过来的选项永远以引用源头展示的顺序为准，不会被随机。



> 引用选项在经过[选项引用过滤器](../opt-reference/concept.md)处理时可能会被随机打乱顺序，与选项随机功能不冲突，但可以配合使用。

选项引用选项过滤器的随机和题目随机互相配合能达到以下效果：

|随机目标|实现方式|
|---|:--|
|引用选项随机,自身选项不随机                            |引用选项随机顺序,节点级别不随机|
|引用选项不随机,自身选项随机                            |节点级别开启随机,同时开启顺序追随引用源|
|随机抽取后引用选项不随机, 自身选项也不随机               |什么都不设置|
|从多个引用源引用选项,某些源随机,某些源不随机             |每个引用设置中单独可设置打乱顺序与否|
|选项引用不抽取,但要随机顺序且仅引用部分选项随机顺序,自身选项不随机                     |选项引用设置打乱顺序即可|
|多个题目引用相同的选项,希望引用到的结果是随机打乱顺序,但是每个题目的打乱顺序得是一样的    |制作一个中间隐藏容器引用原始选项并打乱,然后其他题引用这个容器的选项.


> [其他选项](./other-option.md)不会参与随机