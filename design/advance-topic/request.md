# 接口请求


> 前提：该功能要求问卷设置者拥有编程能力，或者寻找程序员小伙伴帮忙。

针对一些复杂的逻辑运算和判断，内置逻辑运算功能无法满足需求，这时候可以请求外部的程序帮忙运算出结果。

接口请求在[接口请求变量](../variable/request-type.md)，[节点自定义验证](../node-setting/custom-validation.md)，[开始节点出示验证](../nodes/start.md)，[结束节点的结束请求](../nodes/end.md)等地方使用到了。

<img src='./images/request.png'>

上图是一个接口请求的设置案列，点击头部的下拉列表可以选择请求方式，请求方式包含GET/POST/FAKE三种，然后可以填写要请求的地址，最后是设置任意个请求的参数名和参数值。

当答题过程中运行到使用了请结构请求的地方，就携带参数往指定地址放松一次请求，并期待接口返回一下格式的数据：

```typescript
    {
        result: {string|number|boolean}   // 计算结果，如果是验证性接口，返回false代表验证失败，返回true代表验证成功，非验证性的接口返回数值或字符转作为计算结果
        message?: string // 针对验证型的结构，如过result属性是false，没有通过验证，这时应该通过message属性携带一个验证失败的理由，
    }
```

关于返回结果的message属性还可添加带有特殊意义的格式，不同的格式对答题页会造成不同的影响。
+ 如果是 `https://` 开头的URL，则受到返回结果后会跳到该地址。
+ 如果是 `vital:` 开头的消息,则会报出消息并终止答题。
+ 非以上两种格式的结果将会已下拉警告的方式滑出消息。


 