# 使用说明书

这里是文档数据构建规则说明书

## 文档准备

文档以markdown方式编写，放在./doc目录下，在该目录下按语言代号分别命名分出顶层目录，之后每个语言的目录内部的目录可自由控制。

一般来说各个语言的内部目录应该是一致的，这样同一本文档的的多个翻译就能以相同的目录层次规则在不同的语言目录下被找到。

当然也允许某个语言相对于另外一个语言有部分目录或文件缺失，这就代表着这些文档在这个语言中暂时还没有翻译。

所以编写文档的过程中一般是先对一个主语言的文档进行编写，编写完成后，在以相同的目录为其他语言添加翻译。

文档中可能内嵌图片或者视频，对于图片直接放大仓库中，用相对路径引用即可，对于视频，不要放到仓库中，否则仓库会变得非常大，一般应该把视频上传到cdn上，然后文档中以cdn绝对路径引用该视频。

## 目录转换控制

在展示文档时需要展示一个目录，这个目录是基于编辑文档时文档的目录名和文件名之间的层级关系生成的，但是生成的过程中需要依据一些配置做一些转换。

思考以下功能：
1. 编辑文档时的目录和文件名是自由控制的，没有顺序要求，但是在显示这些目录时，顺序是需要被重新控制的，这就需要有一个对目录和文件顺序的配置。

2. 编写文档时，都是统一用的英文做目录和文件名，但是在显示时候在不同的语言中应该显示为不同的名称，即使是英文下显示的目录文件名称与编辑的目录文件名称也可能是不一样的，这就需要一个针对目录和文件有一个别名配置。

所以会有一个规则提供这样的配置信息，具体的规则会在后面提出。

## 搜索内容

文档系统需要提供搜索功能，需要提取出目录结构和所有内容之间的关系用来作为搜索的依据，后面会对此列出配置规则。

## 生成内容

构建工具拿到配置和文档内容后，进行一些列处理后，会为每个语言生成一堆信息，其中包括：
+ 目录配置：是一个json对象，用于展示文档左侧的目录层次结构。
```typescript
  [
    {
      name: 'getting-started', // 原始文件夹名或文件名，每个语言的都相同
      alias: '快速入门' // 用于展示的文件夹名或文件名，各种语言的不一样，已经翻译好了。
      children?： [{ // 子目录列表，如果当前资源是文件，则不会有该属性
        name: 'concept', 
        alias: '基本概念',
        url： 'zh-cn/getting-started/concept.json' // 对应文档内容所在的资源地址。
      }]
    }
  ]
```
+ 一堆






