```index
1
```
```tag

```
```summary

```
# 变量的概念

变量是设计复杂问卷的必备强大工具。

## 概念
一般来说一个题目的问题文字、选项文字、允许最多和最少选择多少项、填空题中最多可以输入多少个字符等等属性，这些都是在设计问卷时就已经确定的，例如设置选择题最多选中6项最少选中2项，或者填空题最多输入8个字符。

但是对于复杂的场合，这些条件有时无法提前确定，而是要根据被访者在之前的某些题目的回复情况来决定。

例如要求当前题目最大选中数是另一道题目选中数量的一半，当之前的某个选择题`S1`选中了6个选项，那么当前题目`S2`的最大选中数就是6/2=3，当前题`S1`选中了10个选项，则这道题`S2`最大选中数就是10/2=5。对于这种不能事前确定，只能在答题过程中根据条件动态决定的内容，就需要用到变量才能实现。

为实现上面要求，需要创建一个变量，可以命名为`S2多选数量`，这个变量的值就是`S1选中选项的选项数量/2`，然后在`S2`的最大值设置的地方，输入`@`，在弹出的变量面板中选择`S2多选数量`，这样答题程序就会根据之前`S1`的回复状态计算出真正的值。

实际运用场景可能更为复杂和多变，下是变量创建规则和使用规则的详细介绍。

## 创建变量
在左侧工具条中点击`变量`按钮打开[变量](../layout/toolbar.md#变量库)面板，在其中点击`创建`变量按钮再选择要创建的`变量类型`，在列表中新增一个变量，选中该变量，右侧就会展示该变量的内容，可以编辑`变量名`和`变量值`。

## 按类型区分
`变量类型`有以下6种，点击查看详细说明。

+ [字符串变量](./string-type.md)
+ [数值变量](./number-type.md)
+ [布尔变量](./boolean-type.md)
+ [媒体变量](./media-type.md)
+ [HTML变量](./html-type.md)
+ [接口请求变量](./request-type.md)

## 按特性区分
按变量的表现特性来分，可以分为`显式变量`、`隐式变量`和`内置系统变量`。

+ 显式变量:
  
  在`变量`面板中由用户手动创建的变量叫做`显式变量`。

+ 隐式变量：

  除了`显式变量`，系统还包含大量`隐式变量`，`隐式变量`是指在满足条件的时候会自动出现的变量，如问卷节点可以引用该节点前的问卷节点中提取的变量，这些变量都是系统的`隐式变量`。例如，`循环变量`就是一种隐式变量，不能手动添加，但是会在添加循环节点后自动出现。
  > 详情参见[隐式变量](./implicit.md)了解更多信息。

+ 系统变量
[系统变量](./build-in.md)是系统内置好的，一直存在，且可随时使用。

无论是`隐式变量`还是`显式变量`还是`系统变量`，在问卷中灵活使用这些变量，可以实现很多个性化的需求，详情参见[变量使用全攻略](./usage.md)。


