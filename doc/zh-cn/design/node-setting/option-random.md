```index
9
```
```tag

```
```summary

```
# 选项随机

选项在答题页面中展示的顺序默认就是其在编辑器中设定的顺序，所有被访者看到的是相同的顺序，然后有时候希望每个被访者看到这些选项时的顺序是不同的，以避免选项的显示顺序对被访者的选择造成潜在影响，这时候需要使用到`选项随机`功能。

开启通用设置区中的`选项随机`开关，题目的所有选项就会一起随机打乱后出现，不同被访者打开问卷时看到的选项顺序是完全随机的。

开启`选项随机`后，下面还会多出四个勾选项：
+ 组随机
+ 组内随机
+ 固定位循环
+ 顺序追随引用源
  > 其中`顺序追随引用源`这项只有当题目使用了选项引用功能时才会出现。

当勾选了下面的项目后，可以对随机行为进行额外的控制。

## 组随机
将选项分为多个小组，小组的概念就是为了避免随机的时候各个小组之间的选项穿插混合在一起。组随机就是对这些小组进行随机，而同一个小组内的选项出现顺序完全不变。可以理解为选项会被装在一个盒子里面，盒子代表一个小组，这些盒子们互相打乱顺序，同时保证了组内的选项永远挨在一起，而且顺序不会被打乱。

启用组随机之前需要为选项设置[分组编号](./option.md#分组编号)，分组编号相同的选项会被分到同一小组。使用分组编号将选项分成多组之后，开启组随机即可。

## 组内随机
组内随机可以理解为选项会被装在一个盒子里面，盒子代表一个小组，这些盒子的位置固定，但是盒子里面的选项在随机打乱顺序。

与组随机相同，启用组内随机之前需要为选项设置[分组编号](./option.md#分组编号)，分组编号相同的选项会被分到同一组，使用分组编号将选项分成多组之后，开启组内随机即可。

> 组随机和组内随机可以同时开启。这样的话，小组的位置随机，而且小组内的选项位置随机，但是仍然能保证同一个小组内的节点永远紧挨在一起。

> 从不同的来源引用过来的[引用选项](../opt-reference/concept.md)，默认会各自按来源分配到各自的组中。

## 固定位循环 
固定位循环和其他几个选项不能同时开启。开启固定位循环后，选项随机的规则像链条的转动一样，随机决定由某个选项作为起始后，后面的选项会按照先有的次序跟进，而前面的选项会按跟在最后一个选项之后。就好比一个循环的队列，排在第一的人会排到最后一位，其他排队的人会往前提前一位，如此循环往复。

## 顺序追随引用源
该设置只对引用选项有效，开启后，被引用过来的选项永远以引用源头展示的顺序为准，不会被随机。
> 引用选项在经过[选项引用过滤器](../opt-reference/concept.md)处理时可能会被随机打乱顺序，与选项随机功能不冲突，但可以配合使用。

选项引用选项过滤器的随机和题目随机互相配合能达到以下组合效果：

|随机目标|实现方式|
|:---:|:--:|
|引用选项随机，自身选项不随机                            |引用选项随机顺序，节点级别不随机|
|引用选项不随机，自身选项随机                            |节点级别开启随机，同时开启顺序追随引用源|
|随机抽取后引用选项不随机，自身选项也不随机               |什么都不设置|
|从多个引用源引用选项，某些源随机，某些源不随机             |每个引用设置中单独可设置打乱顺序与否|
|选项引用不抽取，但要随机顺序且仅引用部分选项随机顺序，自身选项不随机                     |选项引用设置打乱顺序即可|
|多个题目引用相同的选项，希望引用到的结果是随机打乱顺序，但是每个题目的打乱顺序得是一样的    |制作一个中间隐藏容器引用原始选项并打乱，然后其他题引用这个容器的选项.

> [其他选项](./other-option.md)不会参与随机，永远位于选项队列的最后。
